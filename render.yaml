services:
  # -----------------------------
  # Backend Service (FastAPI + Worker)
  # -----------------------------
  - type: web
    name: supoclip-backend-production
    env: docker
    dockerContext: .
    dockerfilePath: ./Dockerfile
    plan: free
    region: oregon
    numInstances: 1
    healthCheckPath: /health/db
    envVars:
      - key: PYTHONUNBUFFERED
        value: 1
      
      # ---- APP SETTINGS ----
      - key: LLM
        value: openai:gpt-4
      - key: WHISPER_MODEL_SIZE
        value: base
      - key: TEMP_DIR
        value: /tmp/uploads

# ---------------------------------------------------
# ðŸš¨ Removed:
# - Worker Service (Now runs inside Backend)
# - Frontend Service (Deploying to Vercel)
# - Built-in Render PostgreSQL
# - Render Redis
# ---------------------------------------------------
